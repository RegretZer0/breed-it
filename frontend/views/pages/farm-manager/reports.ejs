<%- include("../../partials/farm-manager/header") %>
<%- include("../../partials/farm-manager/navbar") %>
<%- include("../../partials/farm-manager/sidepanel") %>

   <!-- Main content -->
    <main class="main-content">
      <div class="container-fluid">
        <!-- Dashboard Header card -->
        <div class="card page-card">
          <div class="card-body">
            <h4 class="page-title">FARMER REPORTS</h4>

              <!-- stat cards grid -->
              <div class="row g-3 mt-3 stats-grid">
                <div class="col-md-6 col-lg-3">
                  <div class="stat-card d-flex justify-content-between align-items-center">
                    <div>
                      <div class="stat-label">In-Heat</div>
                      <div class="stat-number" id="countInHeat">0</div>
                    </div>
                    <div class="stat-icon orange">
                      <i class="fa-solid fa-fire"></i>
                    </div>
                  </div>
                </div>

                <div class="col-md-6 col-lg-3">
                  <div class="stat-card d-flex justify-content-between align-items-center">
                    <div>
                      <div class="stat-label">Wait Recheck (23d)</div>
                      <div class="stat-number" id="countAwaitingRecheck">0</div>
                    </div>
                    <div class="stat-icon blue">
                      <i class="fa-solid fa-clock-rotate-left"></i>
                    </div>
                  </div>
                </div>

                <div class="col-md-6 col-lg-3">
                  <div class="stat-card d-flex justify-content-between align-items-center">
                    <div>
                      <div class="stat-label">Pregnant</div>
                      <div class="stat-number" id="countPregnant">0</div>
                    </div>
                    <div class="stat-icon green">
                      <i class="fa-solid fa-piggy-bank"></i>
                    </div>
                  </div>
                </div>

                <div class="col-md-6 col-lg-3">
                  <div class="stat-card d-flex justify-content-between align-items-center">
                    <div>
                      <div class="stat-label">Farrowing Soon</div>
                      <div class="stat-number" id="countFarrowingReady">0</div>
                    </div>
                    <div class="stat-icon red">
                      <i class="fa-solid fa-warehouse"></i>
                    </div>
                  </div>
                </div>
              </div>


  <table class="reports-table">
    <thead>
      <tr>
        <th>Swine ID</th>
        <th>Farmer</th>
        <th>Date Reported</th>
        <th>Probability</th>
        <th>Status</th>
        <th>Next Heat</th>
        <th>Expected Farrowing</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody id="reportsTableBody">
      <tr>
        <td colspan="8">Loading reports...</td>
      </tr>
    </tbody>
  </table>

  <!-- REPORT DETAILS -->
  <div id="reportDetails" class="report-details" style="display:none;">
    <h3>Report Details</h3>

    <p id="reportSwine"></p>
    <p id="reportFarmer"></p>
    <p id="reportSigns"></p>
    <p id="reportProbability"></p>
    <p id="reportCalendar"></p>

    <video id="reportVideo" controls style="display:none;"></video>
    <img id="reportImage" style="display:none;" />

    <div class="report-actions">
      <button id="approveBtn" style="display:none;">Approve</button>
      <button id="confirmAIBtn" style="display:none;">Confirm AI</button>
      <button id="confirmPregnancyBtn" style="display:none;">Confirm Pregnancy</button>
      <button onclick="document.getElementById('reportDetails').style.display='none'">
        Close
      </button>
    </div>
  </div>

          </div>
        </div>
  </div>
</main>
<!-- <script src="/frontend/js/admin_heat_reports.js"></script> -->

<%- include("../../partials/farm-manager/footer") %>