<%- include("../../partials/farm-manager/header") %>
<%- include("../../partials/farm-manager/navbar") %>
<%- include("../../partials/farm-manager/sidepanel") %>

 <!-- Main content -->
    <main class="main-content">
      <div class="container-fluid">
        <!-- Dashboard Header card -->
        <div class="card page-card">
          <div class="card-body">
            <h4 class="page-title">DASHBOARD</h4>

      <!-- STATS -->
      <div class="stats-row g-3 mt-3 stats-grid">
        <div class="stat-card">
          <div class="stat-icon bg-warning">
            <i class="fa-solid fa-fire"></i>
          </div>
          <div>
            <span class="stat-label">In-Heat</span>
            <span class="stat-value" id="countInHeat">0</span>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon bg-info">
            <i class="fa-solid fa-rotate"></i>
          </div>
          <div>
            <span class="stat-label">Wait Recheck (23d)</span>
            <span class="stat-value" id="countAwaitingRecheck">0</span>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon bg-success">
            <i class="fa-solid fa-seedling"></i>
          </div>
          <div>
            <span class="stat-label">Pregnant</span>
            <span class="stat-value" id="countPregnant">0</span>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon bg-danger">
            <i class="fa-solid fa-baby"></i>
          </div>
          <div>
            <span class="stat-label">Farrowing Soon</span>
            <span class="stat-value" id="countFarrowingReady">0</span>
          </div>
        </div>
      </div>

      <!-- TOOLBAR -->
      <div class="utility-bar">
        <div class="utility-left">
          <button class="btn info">
            <i class="fa-solid fa-chart-column"></i> Analytics
          </button>
          <button class="btn primary" onclick="openModal('addMaleModal')">
            <i class="fa-solid fa-plus"></i> Register Boar
          </button>
        </div>

        <div class="utility-search">
          <i class="fa-solid fa-magnifying-glass"></i>
          <input id="searchInput" type="text" placeholder="Search Swine ID">
        </div>
      </div>

      <!-- TABLE -->
      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>Swine</th>
              <th>Farmer</th>
              <th>Date</th>
              <th>Probability</th>
              <th>Status</th>
              <th>23d Recheck</th>
              <th>Farrowing</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="reportsTableBody">
            <tr>
              <td colspan="8" class="text-center">Loading reportsâ€¦</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
  </div>
        </div>
</main>

<!-- MODALS -->
<div class="modal" id="addMaleModal">
  <div class="modal-box">
    <h3>Register New Boar</h3>
    <p class="modal-subtext">Add a male swine for AI confirmation.</p>

    <form id="addMaleForm">
      <label>Swine Tag</label>
      <input type="text" required>

      <label>Breed</label>
      <input type="text" required>

      <button class="btn success">Save</button>
      <button type="button" class="btn outline" onclick="closeModal('addMaleModal')">Cancel</button>
    </form>
  </div>
</div>

<div class="modal" id="aiConfirmModal">
  <div class="modal-box">
    <h3>Confirm AI Service</h3>
    <label>Available Boars</label>
    <select id="boarSelect"></select>

    <div class="modal-actions">
      <button class="btn info" id="submitAI">Confirm</button>
      <button class="btn outline" onclick="closeModal('aiConfirmModal')">Cancel</button>
    </div>
  </div>
</div>

<script type="module" src="/js/admin_dashboard_summary.js"></script>
<%- include("../../partials/farm-manager/footer") %>
