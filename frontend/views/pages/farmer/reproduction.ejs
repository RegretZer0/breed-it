<%- include("../../partials/farmer/farmer_nav") %>

<div class="app-root">
  <main class="reproduction-container">
    <h2 class="page-title">REPRODUCTION AND MONITORING PIPELINE</h2>
    <p style="color: #666; margin-top: 5px;">
      Manage the full lifecycle from Insemination through Monitoring (Day 1â€“30),
      Weaning, and Final Selection.
    </p>

    <div class="search-container">
      <input
        type="text"
        id="reproductionSearch"
        class="search-input"
        placeholder="Search by Swine Tag or Stage..."
      />
    </div>

    <div class="section-card" style="border-top-color: #2ecc71;">
      <h2 class="section-title">
        Piglet Lifecycle & Monitoring
        <span class="badge badge-success">Actions Required</span>
      </h2>
      <p class="text-muted" style="font-size: 0.9rem; margin-bottom: 15px;">
        Track growth progress. Once monitoring is complete, decide whether to keep for breeding or sell.
      </p>

      <div class="table-responsive">
        <table>
          <thead>
            <tr>
              <th>Swine Tag</th>
              <th>Status</th>
              <th>Countdown</th>
              <th>Latest Weight</th>
              <th class="text-center">Selection Action</th>
            </tr>
          </thead>
          <tbody id="pigletMonitoringBody">
            <tr>
              <td colspan="5" class="text-center">Loading piglet lifecycle data...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="section-card" style="border-top-color: #3498db;">
      <h2 class="section-title">
        Artificial Insemination History
        <span class="badge badge-info">Read-only</span>
      </h2>

      <div class="table-responsive">
        <table>
          <thead>
            <tr>
              <th>Sow Tag</th>
              <th>Boar Tag</th>
              <th>Insemination Date</th>
            </tr>
          </thead>
          <tbody id="aiTableBody">
            <tr>
              <td colspan="3" class="text-center">Initializing records...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="section-card" style="border-top-color: #1abc9c;">
      <h2 class="section-title">
        Breeding Performance &amp; Mortality
        <span class="badge badge-success">Live</span>
      </h2>

      <div class="table-responsive">
        <table>
          <thead>
            <tr>
              <th>Sow Tag</th>
              <th class="text-center">Alive</th>
              <th class="text-center">Deceased</th>
              <th class="text-center">Mortality %</th>
            </tr>
          </thead>
          <tbody id="breedingMortalityTableBody">
            <tr>
              <td colspan="4" class="text-center">Calculating offspring data...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="section-card" style="border-top-color: #9b59b6;">
      <h2 class="section-title">Growth Monitoring &amp; Trait Evaluation</h2>

      <div class="filter-group" style="margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; border: 1px solid #eee;">
        <label for="pigletSelect" style="display: block; font-weight: bold; margin-bottom: 8px; color: #444;">
          <i class="fa-solid fa-filter me-2"></i>Filter by My Piglets:
        </label>
        <select id="pigletSelect" class="search-input" style="width: 100%; max-width: 400px; cursor: pointer;">
          <option value="">-- Loading Piglets... --</option>
        </select>
        <p class="text-muted" style="font-size: 0.85rem; margin-top: 5px;">
          Only piglets you own (Day 1-30 & Weaning) are listed here.
        </p>
      </div>

      <div class="table-responsive">
        <table>
          <thead>
            <tr>
              <th>Swine Tag</th>
              <th>Sex</th>
              <th>Stage</th>
              <th>Traits</th>
              <th>Teeth</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody id="morphTableBody">
            <tr>
              <td colspan="6" class="text-center">Loading growth metrics...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="section-card" style="border-top-color: #e74c3c;">
      <h2 class="section-title">Deformities Monitoring</h2>
      <div id="deformityList">
        <p class="text-muted">Scanning for deformity reports...</p>
      </div>
    </div>

    <div class="section-card" style="border-top-color: #f39c12;">
      <h2 class="section-title">Selection Process (Retention &amp; Culling)</h2>

      <div class="table-responsive">
        <table>
          <thead>
            <tr>
              <th>Swine Tag</th>
              <th>Stage</th>
              <th>System Suggestion</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="selectionTableBody">
            <tr>
              <td colspan="4" class="text-center">
                Searching for selection candidates...
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

  </main>
</div>

<%- include("../../partials/farmer/farmer_footer") %>